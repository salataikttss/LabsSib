using System;

namespace ConsoleApp1
{
    struct Address
    {
        public string City { get; set; }
        public string Street { get; set; }
        public int HouseNumber { get; set; }

        public Address(string city, string street, int houseNumber)
        {
            City = city;
            Street = street;
            HouseNumber = houseNumber;
            Console.WriteLine($"Конструктор Address: {city}, {street}, {houseNumber}");
        }

        public void Display() => Console.WriteLine($"Адрес: г. {City}, ул. {Street}, д. {HouseNumber}");
        public bool Check(Func<Address, bool> rule) => rule(this);
    }

    class Employee
    {
        public string Name { get; set; }
        public int Age { get; set; }
        public Address HomeAddress { get; set; }
        public event Action<string> OnAction;

        public Employee(string name, int age, Address address)
        {
            Name = name; Age = age; HomeAddress = address;
            Console.WriteLine($"Сотрудник: {name}, {age}");
            OnAction?.Invoke($"Создан {name}");
        }

        public void Display()
        {
            Console.WriteLine($"Сотрудник: {Name}, Возраст: {Age}");
            HomeAddress.Display();
            OnAction?.Invoke($"Показан {Name}");
        }
    }

    class Box<T>
    {
        private T item;
        public event Action<string> OnAction;

        public void Put(T value) { item = value; Console.WriteLine($"Положили: {value}"); OnAction?.Invoke($"Предмет типа {typeof(T).Name} положен"); }
        public T Get() { Console.WriteLine($"Достали: {item}"); OnAction?.Invoke($"Предмет типа {typeof(T).Name} получен"); return item; }
    }

    class Program
    {
        static void Main()
        {
            Address addr = new Address("Ижевск", "Ленина", 89);
            addr.Display();
            Console.WriteLine($"Номер больше 50: {addr.Check(a => a.HouseNumber > 50)}");
            Console.WriteLine();

            Employee emp = new Employee("Салават", 19, addr);
            emp.OnAction += msg => Console.WriteLine($"Событие: {msg}");
            emp.Display();
            Console.WriteLine();

            Box<string> box = new Box<string>();
            box.OnAction += msg => Console.WriteLine($"Коробка: {msg}");
            box.Put("книга");
            box.Get();
        }
    }
}
